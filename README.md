# 论如何开好一个 Minecraft 模组服

大家好，这里是晓夜。一个普通的模组服服主。本帖将介绍如何开好一个Minecraft 模组服。同时也会与各位分享一些开服经验。希望本帖能够帮助到新人腐竹。

本文重写计划始于 2021/02/17。全文使用 Markdown 格式撰写。

协助者：[冷枫小乐](https://www.mcbbs.net/home.php?mod=space&uid=1838457)

## 一、开服前的准备

开 Minecraft 服务器，相当于在操作系统上运行一个 Java 程序。由于对高稳定性和高性能的需要，我们通常不会将生产服务器置于自己的私人电脑上。这时候，我们需要租用或购买专业的物理服务器来运行 Minecraft 服务器。

> **注意：切勿将 Minecraft 服务器与物理服务器混淆**。前者指的是单个 Minecraft 服务端程序实例，后者指的是整个操作系统。

### Part 1 选择物理服务器

对运行 Minecraft 服务器而言，常见的物理服务器通常存在以下种类

- 面板服
  - 使用网页与 [FTP](https://baike.baidu.com/item/FTP%E5%8D%8F%E8%AE%AE/7651119) 管理服务器，效率较低，水分较高，有配置作假的嫌疑。大部分无法使用 MySQL 数据库等高级功能。甚至部分商家会限制一些高性能核心和资源消耗量较大的插件，如 CoreProtect。
- VPS
  - 中文名为「虚拟专用服务器」，即服务商在一台独立机上使用虚拟化平台，如 VMware，将独立机的资源分割，并分配给多个运行在本台独立机上的虚拟专享服务器。实现各虚拟专享服务器的操作系统、内存、进程等资源的隔离。可以使用 MySQL 数据库等高级功能，也可以挂机器人。在性能较高的情况下，一台 VPS 可以开放数个 Minecraft 服务器。自由性较高。
  - 你购买的 VPS 就是虚拟专享服务器中的一台。
- 独立机
  - 通俗易懂。即一台独立的物理机，资源全部属于自己。具有 VPS 的全部优点。

如果你想购买物理服务器，可以查看论坛的交易代理版块或前往专业的电商平台。尽可能选择运营时间长的服务商。**不要为了便宜而选择配置差、服务态度不好的服务商。**一个好的服务商可以让你事倍功半。

开服初期，人数较少。无需购买较高配置的物理服务器。一般来讲，模组服初期 4 核心 8 GB 内存足矣。应该随着服务器规模的扩张，逐渐升级物理服务器配置。

**注意：Minecraft 服务端通常是单核心运行的，服务器卡顿时不要随意升级核心数**

### Part 2 拥有物理服务器后

> 本小节讲述内容基于 64 位 Windows Server 2012 及以上版本的操作系统。

拥有物理服务器后，我们需要做一些准备。

1. **在物理服务器中安装 Java。**请前往 [Java 官网](www.java.com) 下载 64 位的安装包，并运行安装包，安装即可。如果你是在个人电脑上下载的安装包，可通过 Windows 自带的远程桌面、即时通讯软件，如 QQ、百度网盘传输至物理服务器。

   > 小文件建议使用远程桌面传输，大文件建议使用百度网盘或即时通讯软件。

2. **安装文本编辑器**。开模组服，必定编辑大量配置文件。这里建议使用 [VS Code]([https://code.visualstudio.com/](https://code.visualstudio.com/))，是微软开发的编辑器，功能强大。

3. **安装压缩软件**。Minecraft 服务端文件多、散。备份时直接传输文件夹必定浪费大量时间。某些插件的配置文件也可能会是压缩包形式，需解压后使用。这里建议使用 [7-Zip](https://www.7-zip.org/)，完全免费且开源。
### Part 3 了解端口

端口是设备与外界通讯交流的出口。一个 IP 地址 拥有 65536 个端口。如果把 IP 比作房子，那端口就是房子的门。

当你购买 VPS 时，服务商会告知你这台 VPS 的可用端口。运行一个 Minecraft 服务端会占用一个端口。

如果你使用独立机，除了一些特殊端口，如 3389（Windows 远程桌面默认端口），3306（MySQL 默认端口），所有端口都可以使用。为了防止冲突，我们一般使用 10000 以后的端口。

第一次运行 Minecraft 服务端，`server.properties` 内的默认端口为 25565。Minecraft 将 25565 端口视为 Minecraft 服务端的默认端口。如果一个 Minecraft 服务端的端口是 25565，那么在 Minecraft 多人游戏页面仅需填写 IP 即可。

### Part 4 小提示

Windows 防火墙可能会拦截玩家进入服务器，这时需要关闭防火墙。进入 控制面板-系统与安全，关闭即可。

CentOS（Linux 的一个发行版），关闭防火墙的方法是：

1. 使用 root 账号登录。

2. 输入以下命令

   ```
   systemctl disable firewalld.service
   systemctl stop firewalld.service
   ```

Linux 其它发行版的关闭方法可自行到搜索引擎搜索。

**开服初期，强烈不推荐没有接触过 Linux 系统的人在 Linux 上开服，建议先从 Windows 入手。直接使用一个没有接触过的系统，可能会导致许多不必要的麻烦。可能你在 Windows 上 2 分钟解决的问题。在 Linux 系统上因为自己的不熟悉导致许多问题需要询问别人，浪费大量时间。**

## 二、自行制作服务端

有的人可能会问：MCBBS 服务端整合包版有很多优秀的服务端整合包，为什么我要自己制作？

因为自己制作服务端可以让你自己知道在哪里做过什么。如果直接使用现成的服务端，小白很难理解各个插件的作用，怎么配置，也不会提高你的技术水平。自己的经历是无价之宝。

